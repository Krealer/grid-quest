<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Grid Quest</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
    />
    <link rel="stylesheet" href="style/layout.css" />
    <link rel="stylesheet" href="style/combat.css" />
    <link rel="stylesheet" href="style/inventory.css" />
    <link rel="icon" href="favicon.svg" type="image/svg+xml" />
  </head>
  <body>
    <div id="game-grid"></div>
    <div id="menu-bar">
      <div class="tab settings-tab">Settings</div>
      <div class="tab menu-tab">Menu</div>
      <div class="tab inventory-tab">Inventory</div>
      <div class="tab save-tab">Save</div>
      <div class="tab load-tab">Load</div>
    </div>
    <div id="ui-bar">
      <div id="hp-display"></div>
      <div id="defense-display"></div>
      <div id="xp-display"></div>
    </div>
    <div id="inventory-overlay" class="inventory-overlay">
      <div class="inventory-content">
        <button class="close-btn">&times;</button>
        <h2>Inventory</h2>
        <div id="player-stats"></div>
        <div class="inventory-categories">
          <button data-cat="items" class="tab selected">Items</button>
          <button data-cat="equipable" class="tab">Equipable Items</button>
          <button data-cat="combat" class="tab">Combat Items</button>
          <button data-cat="key" class="tab">Key Items</button>
          <button data-cat="lore" class="tab">Lore Items</button>
        </div>
        <div class="inventory-panel">
          <div class="inventory-scroll">
            <div id="inventory-list"></div>
          </div>
          <div id="forge-log" class="forge-log"></div>
        </div>
      </div>
    </div>
    <div id="menu-overlay" class="menu-overlay">
      <div class="menu-content">
        <button class="close-btn">&times;</button>
        <div class="menu-buttons">
          <div class="tab guide-tab">Guide</div>
          <div class="tab info-tab">Info</div>
          <div class="tab quests-tab">Quest</div>
          <div class="tab status-tab">Status Panel</div>
          <div class="tab null-tab">The Null Factor</div>
          <div class="tab restart-tab">Restart</div>
        </div>
        <div id="menu-stats"></div>
      </div>
    </div>
    <div id="quest-log-overlay" class="quest-overlay">
      <div class="quest-content">
        <button class="close-btn">&times;</button>
        <h2>Active Quests</h2>
        <div id="quest-log"></div>
      </div>
    </div>
    <div id="status-overlay" class="status-overlay">
      <div class="status-content">
        <button class="close-btn">&times;</button>
        <h2>Player Status</h2>
        <div id="status-info"></div>
        <h3>Passive Skills</h3>
        <div id="status-passives"></div>
      </div>
    </div>
    <div id="info-overlay" class="info-overlay">
      <div id="info-menu">
        <button class="close-btn">&times;</button>
        <nav class="info-nav">
          <div class="info-nav-btn active" data-target="enemies">Enemies</div>
          <div class="info-nav-btn" data-target="items">Items</div>
          <div class="info-nav-btn" data-target="skills">Skills</div>
          <div class="info-nav-btn" data-target="status">Status</div>
          <div class="info-nav-btn" data-target="lore">Lore</div>
        </nav>
        <div class="info-content">
          <div id="content-enemies" class="info-section"></div>
          <div
            id="content-items"
            class="info-section"
            style="display: none"
          ></div>
          <div
            id="content-skills"
            class="info-section"
            style="display: none"
          ></div>
          <div
            id="content-status"
            class="info-section"
            style="display: none"
          ></div>
          <div
            id="content-lore"
            class="info-section"
            style="display: none"
          ></div>
        </div>
      </div>
    </div>
    <div id="null-summary-overlay" class="null-summary-overlay">
      <div class="null-summary-content">
        <button class="close-btn">&times;</button>
        <h2>Null Factor Summary</h2>
        <div id="null-summary-message"></div>
        <div id="null-summary-list"></div>
      </div>
    </div>
    <div id="settings-overlay" class="settings-overlay">
      <div class="settings-content">
        <button class="close-btn">&times;</button>
        <h2>Settings</h2>
        <label class="setting-row">
          <input type="checkbox" id="coords-toggle" /> Grid Coordinates
        </label>
        <label class="setting-row">
          <input type="checkbox" id="coords-phone-toggle" /> Coordinates (phone)
        </label>
        <label class="setting-row">
          Movement Speed
          <select id="move-speed">
            <option value="slow">Slow</option>
            <option value="normal">Normal</option>
            <option value="fast">Fast</option>
          </select>
        </label>
        <label class="setting-row">
          Combat Speed
          <select id="combat-speed">
            <option value="instant">Instant</option>
            <option value="normal">Normal</option>
          </select>
        </label>
        <label class="setting-row">
          <input type="checkbox" id="colorblind-toggle" /> Colorblind Mode
        </label>
        <label class="setting-row">
          <input type="checkbox" id="label-toggle" /> Show Tile Labels
        </label>
        <label class="setting-row">
          <input type="checkbox" id="dialogue-toggle" /> Dialogue Animation
        </label>
        <label class="setting-row">
          Language
          <select id="language-select">
            <option value="en">English</option>
            <option value="fr">Français</option>
            <option value="de">Deutsch</option>
            <option value="ja">日本語</option>
          </select>
        </label>
        <label
          class="setting-row"
          title="Keeps the player centered on screen when using a phone in portrait orientation."
        >
          <input type="checkbox" id="center-toggle" /> Center Mode (Mobile
          Portrait Only)
        </label>
        <button id="reset-settings" class="reset-btn">
          Reset All Settings
        </button>
        <label class="setting-row" id="rollback-row">
          Rollback
          <select id="rollback-select">
            <option value="v0.7.3">v0.7.3</option>
          </select>
          <button id="rollback-btn" title="Restore Selected Version">&#8635;</button>
        </label>
      </div>
    </div>
    <div id="error-overlay" class="error-overlay">
      <div class="error-content">
        <div id="error-message"></div>
        <button class="error-ok">OK</button>
      </div>
    </div>
    <div id="confirm-overlay" class="confirm-overlay">
      <div class="confirm-content">
        <div id="confirm-message"></div>
        <div class="confirm-actions">
          <button class="confirm-cancel">Cancel</button>
          <button class="confirm-yes">Confirm</button>
        </div>
      </div>
    </div>
    <div id="save-load-overlay" class="save-load-overlay">
      <div class="save-load-content">
        <button class="close-btn">&times;</button>
        <h2 id="save-load-title">Save Game</h2>
        <div id="slots-container"></div>
      </div>
    </div>
    <div id="howto-overlay" class="howto-overlay">
      <div class="howto-content">
        <button class="close-btn">&times;</button>
        <h2>How to Play</h2>
        <div class="howto-scroll">
          <p><strong>Movement:</strong> Tap or click a ground tile to move. (Ground tiles are light green squares.)</p>
          <p><strong>Interaction:</strong> Double tap or double click a tile to interact.</p>
          <p><strong>NPC (Purple Circle):</strong> Talk to NPCs by interacting. They may give quests, items, or secrets.</p>
          <p><strong>Enemy (Red Tile):</strong> Interact to enter combat. Defeating enemies grants XP and drops.</p>
          <p><strong>Water (Blue Tile):</strong> Interacting heals you to full health. Use wisely!</p>
          <p><strong>Chest (Brown Tile):</strong> Open to receive a reward. Some may be locked.</p>
          <p><strong>Traps (Light Red / Dark Red Tiles):</strong> Step carefully — they cause damage or status effects.</p>
          <p><strong>Combat:</strong> You have offensive and defensive skills. Use cooldowns tactically. Items appear in combat if you have any usable ones.</p>
          <p><strong>Stats &amp; Leveling:</strong> Each level increases your HP. Every 5 and 10 levels increase attack and defense.</p>
          <p><strong>Doors (Gray Tile with marking):</strong> Require specific items or actions to unlock. Explore carefully.</p>
        </div>
      </div>
    </div>
    <div id="greeting-overlay" class="greeting-overlay">
      <div class="greeting-content">
        <h2>Welcome to Grid Quest</h2>
        <div class="greeting-buttons">
          <button id="greet-howto-btn">How to Play</button>
          <button id="greet-play-btn">Play</button>
        </div>
      </div>
    </div>
    <script type="module" src="scripts/main.js"></script>
  </body>
</html>
